########################################################################
# Le Git Config
########################################################################

# Values coming from environment variables set in private file
# [user]
#     email =
#     name =

[user]
	name = Matthias Kretschmann
	email = m@kretschmann.io
    signingkey = DD7831FC

[commit]
    gpgsign = true

[gpg]
    program = gpg2

[github]
    user = kremalicious

[credential]
    helper = osxkeychain

[core]
    excludesfile = ~/.gitignore
	quotepath = false

    # Handle umlauts and such better on OS X
    #   for whatever crazy reason this explicitly
    #   has to be set to false so tracked files with
    #   special characters don't get treated as untracked
    precomposeunicode = false

    # Make `git rebase` safer on OS X
    # More info: http://www.git-tower.com/blog/make-git-rebase-safe-on-osx/
    trustctime = false

[alias]
    c  = clone --recursive
    co = checkout
    l  = log --oneline --decorate -15
    lo = log --oneline --decorate
    s  = status -s

    # Amend the currently staged files to the latest commit
    amend = commit --amend --reuse-message=HEAD

    # Remove branches that have already been merged with master
    # a.k.a. ‘delete merged’
    dm = "!git branch --merged master | grep -v '\\* master' | xargs -n 1 git branch -d"

    uncommit = reset --soft HEAD^
    unstage  = reset HEAD
    yolo     = push --force

[fetch]
    prune = true

[color]
    diff = auto
    status = auto
    branch = auto
    interactive = auto
    ui = auto

# Set Kaleidoscope as diff and merge tool
[diff]
    tool = Kaleidoscope
[difftool]
    prompt = false
[difftool "Kaleidoscope"]
    cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"
[merge]
    tool = Kaleidoscope
[mergetool]
    prompt = false
[mergetool "Kaleidoscope"]
    cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
    trustExitCode = true

[filter "lfs"]
    clean = git-lfs clean %f
    smudge = git-lfs smudge %f
    required = true
